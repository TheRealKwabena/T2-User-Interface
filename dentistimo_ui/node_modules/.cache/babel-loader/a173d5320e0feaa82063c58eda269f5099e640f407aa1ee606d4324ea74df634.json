{"ast":null,"code":"\"use strict\";\n\nexports.__esModule = true;\nexports.MQTTController = void 0;\nvar mqtt = require(\"mqtt\");\nvar MQTTController = /** @class */function () {\n  function MQTTController() {\n    this.options = {\n      port: 8884,\n      host: 'fd7deecde7cb4abfa54a797a76475a60.s2.eu.hivemq.cloud',\n      protocol: 'wss',\n      username: 'hivemq.webclient.1670715537823',\n      password: 'c7LW!l85@0rM:PJjTf>w'\n    };\n    this.client = mqtt.connect(this.options);\n    this.availabilityTopic = 'avaiability/#';\n    this.appointmentTopic = 'appointment/#';\n    this.appointmentResponse = 'appointment/response';\n    this.appointmentRequest = 'appointment/request';\n    this.availabilityRequest = 'availability/request';\n    this.availabilityResponse = 'availability/response';\n    this.appointment = '';\n  }\n  MQTTController.prototype.subscribe = function () {\n    var _this = this;\n    this.client.on('connect', function () {\n      _this.client.subscribe(_this.appointmentRequest);\n      _this.client.subscribe(_this.availabilityResponse);\n      console.log('Client has subscribed successfully');\n    });\n  };\n  MQTTController.prototype.publish = function (topic, responseMessage) {\n    var _this = this;\n    this.client.on('connect', function () {\n      _this.client.publish(topic, responseMessage);\n      console.log(topic, responseMessage);\n    });\n  };\n  return MQTTController;\n}();\nexports.MQTTController = MQTTController;","map":{"version":3,"names":["exports","__esModule","MQTTController","mqtt","require","options","port","host","protocol","username","password","client","connect","availabilityTopic","appointmentTopic","appointmentResponse","appointmentRequest","availabilityRequest","availabilityResponse","appointment","prototype","subscribe","_this","on","console","log","publish","topic","responseMessage"],"sources":["C:/Users/adity/Desktop/SEM'24/DisSystems/T2-UserInterface/dentistimo_ui/src/Infrastructure/MQTTController.js"],"sourcesContent":["\"use strict\";\r\nexports.__esModule = true;\r\nexports.MQTTController = void 0;\r\nvar mqtt = require(\"mqtt\");\r\nvar MQTTController = /** @class */ (function () {\r\n    function MQTTController() {\r\n        this.options = {\r\n            port: 8884,\r\n            host: 'fd7deecde7cb4abfa54a797a76475a60.s2.eu.hivemq.cloud',\r\n            protocol: 'wss',\r\n            username: 'hivemq.webclient.1670715537823',\r\n            password: 'c7LW!l85@0rM:PJjTf>w'\r\n        };\r\n        this.client = mqtt.connect(this.options);\r\n        this.availabilityTopic = 'avaiability/#';\r\n        this.appointmentTopic = 'appointment/#';\r\n        this.appointmentResponse = 'appointment/response';\r\n        this.appointmentRequest = 'appointment/request';\r\n        this.availabilityRequest = 'availability/request';\r\n        this.availabilityResponse = 'availability/response';\r\n        this.appointment = '';\r\n    }\r\n    MQTTController.prototype.subscribe = function () {\r\n        var _this = this;\r\n        this.client.on('connect', function () {\r\n            _this.client.subscribe(_this.appointmentRequest);\r\n            _this.client.subscribe(_this.availabilityResponse);\r\n            console.log('Client has subscribed successfully');\r\n        });\r\n    };\r\n    MQTTController.prototype.publish = function (topic, responseMessage) {\r\n        var _this = this;\r\n        this.client.on('connect', function () {\r\n            _this.client.publish(topic, responseMessage);\r\n            console.log(topic, responseMessage);\r\n        });\r\n    };\r\n    return MQTTController;\r\n}());\r\nexports.MQTTController = MQTTController;\r\n"],"mappings":"AAAA,YAAY;;AACZA,OAAO,CAACC,UAAU,GAAG,IAAI;AACzBD,OAAO,CAACE,cAAc,GAAG,KAAK,CAAC;AAC/B,IAAIC,IAAI,GAAGC,OAAO,CAAC,MAAM,CAAC;AAC1B,IAAIF,cAAc,GAAG,aAAe,YAAY;EAC5C,SAASA,cAAc,GAAG;IACtB,IAAI,CAACG,OAAO,GAAG;MACXC,IAAI,EAAE,IAAI;MACVC,IAAI,EAAE,qDAAqD;MAC3DC,QAAQ,EAAE,KAAK;MACfC,QAAQ,EAAE,gCAAgC;MAC1CC,QAAQ,EAAE;IACd,CAAC;IACD,IAAI,CAACC,MAAM,GAAGR,IAAI,CAACS,OAAO,CAAC,IAAI,CAACP,OAAO,CAAC;IACxC,IAAI,CAACQ,iBAAiB,GAAG,eAAe;IACxC,IAAI,CAACC,gBAAgB,GAAG,eAAe;IACvC,IAAI,CAACC,mBAAmB,GAAG,sBAAsB;IACjD,IAAI,CAACC,kBAAkB,GAAG,qBAAqB;IAC/C,IAAI,CAACC,mBAAmB,GAAG,sBAAsB;IACjD,IAAI,CAACC,oBAAoB,GAAG,uBAAuB;IACnD,IAAI,CAACC,WAAW,GAAG,EAAE;EACzB;EACAjB,cAAc,CAACkB,SAAS,CAACC,SAAS,GAAG,YAAY;IAC7C,IAAIC,KAAK,GAAG,IAAI;IAChB,IAAI,CAACX,MAAM,CAACY,EAAE,CAAC,SAAS,EAAE,YAAY;MAClCD,KAAK,CAACX,MAAM,CAACU,SAAS,CAACC,KAAK,CAACN,kBAAkB,CAAC;MAChDM,KAAK,CAACX,MAAM,CAACU,SAAS,CAACC,KAAK,CAACJ,oBAAoB,CAAC;MAClDM,OAAO,CAACC,GAAG,CAAC,oCAAoC,CAAC;IACrD,CAAC,CAAC;EACN,CAAC;EACDvB,cAAc,CAACkB,SAAS,CAACM,OAAO,GAAG,UAAUC,KAAK,EAAEC,eAAe,EAAE;IACjE,IAAIN,KAAK,GAAG,IAAI;IAChB,IAAI,CAACX,MAAM,CAACY,EAAE,CAAC,SAAS,EAAE,YAAY;MAClCD,KAAK,CAACX,MAAM,CAACe,OAAO,CAACC,KAAK,EAAEC,eAAe,CAAC;MAC5CJ,OAAO,CAACC,GAAG,CAACE,KAAK,EAAEC,eAAe,CAAC;IACvC,CAAC,CAAC;EACN,CAAC;EACD,OAAO1B,cAAc;AACzB,CAAC,EAAG;AACJF,OAAO,CAACE,cAAc,GAAGA,cAAc"},"metadata":{},"sourceType":"module","externalDependencies":[]}